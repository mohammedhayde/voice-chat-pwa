# ููุงุฐุง ูุนูู ูุญููุงู ููุง ูุนูู ุนูู Netlifyุ ๐ค

## ๐ ุงูููุงุฑูุฉ:

| ุงูุจูุฆุฉ | ุงูุญุงูุฉ | ุงูุณุจุจ |
|--------|--------|-------|
| **ุงูุณูุฑูุฑ ุงููุญูู** | โ ูุนูู | ููุฑุฃ `.env.local` ูู ุฌูุงุฒู |
| **Netlify** | โ ูุง ูุนูู | `.env.local` **ุบูุฑ ููุฌูุฏ** (ูู `.gitignore`) |

---

## ๐ ุงูุณุจุจ ุงูุชูุตููู:

### ุนูู ุฌูุงุฒู (ุงูุณูุฑูุฑ ุงููุญูู):
```
1. Next.js ููุฑุฃ .env.local โ
2. process.env.PUSHER_APP_ID = "2070639" โ
3. process.env.PUSHER_SECRET = "612a6b234fd2f8b32a22" โ
4. Netlify Function ุชุนูู โ
5. ุงูุฏุฑุฏุดุฉ ุชุนูู โ
```

### ุนูู Netlify:
```
1. .env.local ุบูุฑ ููุฌูุฏ (gitignored) โ
2. process.env.PUSHER_APP_ID = undefined โ
3. process.env.PUSHER_SECRET = undefined โ
4. Netlify Function ุชูุดู โ ุฎุทุฃ 500 โ
5. ุงูุฏุฑุฏุดุฉ ูุง ุชุนูู โ
```

---

## ๐ฏ ุงูุญู: ุฅุถุงูุฉ Environment Variables ูู Netlify Dashboard

### **ุงูุฎุทูุฉ 1: ุงูุชุญ Netlify Dashboard**

1. ุงุฐูุจ ุฅูู: https://app.netlify.com
2. ุงุฎุชุฑ ูููุนู: **admirable-melba-d159b2**
3. ุงุถุบุท **"Site settings"** (ุชุจููุจ ูู ุงูุฃุนูู)
4. ูู ุงููุงุฆูุฉ ุงูุฌุงูุจูุฉุ ุงุฎุชุฑ **"Environment variables"**

---

### **ุงูุฎุทูุฉ 2: ุฃุถู ุงููุชุบูุฑุงุช ูุงุญุฏุงู ุชูู ุงูุขุฎุฑ**

ุงุถุบุท **"Add a variable"** ูุฃุถู ูู ูุชุบูุฑ:

#### ุงููุชุบูุฑ 1:
- **Key:** `PUSHER_APP_ID`
- **Value:** `2070639`
- ุงุถุบุท **"Create variable"**

#### ุงููุชุบูุฑ 2:
- **Key:** `PUSHER_SECRET`
- **Value:** `612a6b234fd2f8b32a22`
- ุงุถุบุท **"Create variable"**

#### ุงููุชุบูุฑ 3:
- **Key:** `NEXT_PUBLIC_PUSHER_KEY`
- **Value:** `5b2029a10320bc0f6e04`
- ุงุถุบุท **"Create variable"**

#### ุงููุชุบูุฑ 4:
- **Key:** `NEXT_PUBLIC_PUSHER_CLUSTER`
- **Value:** `eu`
- ุงุถุบุท **"Create variable"**

#### ุงููุชุบูุฑ 5:
- **Key:** `NEXT_PUBLIC_AGORA_APP_ID`
- **Value:** `ed407a71c9054d6197037f62849d2d87`
- ุงุถุบุท **"Create variable"**

---

### **ุงูุฎุทูุฉ 3: ุชุญูู ูู ุงูุฅุถุงูุฉ**

ุจุนุฏ ุงูุฅุถุงูุฉุ ูุฌุจ ุฃู ุชุฑู ุงููุงุฆูุฉ:
```
โ PUSHER_APP_ID = 2070639
โ PUSHER_SECRET = โขโขโขโขโขโขโขโขโขโขโขโขโขโขโขโขโขโขโขโขโขโขโข (ูุฎูู)
โ NEXT_PUBLIC_PUSHER_KEY = 5b2029a10320bc0f6e04
โ NEXT_PUBLIC_PUSHER_CLUSTER = eu
โ NEXT_PUBLIC_AGORA_APP_ID = ed407a71c9054d6197037f62849d2d87
```

---

### **ุงูุฎุทูุฉ 4: ุฃุนุฏ ุงููุดุฑ (Redeploy)**

โ๏ธ **ููู ุฌุฏุงู:** ูุฌุจ ุฅุนุงุฏุฉ ุงููุดุฑ ูุชุทุจูู ุงููุชุบูุฑุงุช ุงูุฌุฏูุฏุฉ!

1. ุงุฐูุจ ุฅูู ุชุจููุจ **"Deploys"**
2. ุงุถุบุท **"Trigger deploy"** (ุฒุฑ ูู ุงูุฃุนูู ูููู)
3. ุงุฎุชุฑ **"Deploy site"**
4. ุงูุชุธุฑ 2-3 ุฏูุงุฆู ุญุชู ููุชูู ุงููุดุฑ
5. ุงูุชุธุฑ ุญุชู ุชุฑู: โ **"Published"**

---

### **ุงูุฎุทูุฉ 5: ุชูุนูู Client Events ูู Pusher** ๐

โ๏ธ **ุจุฏูู ูุฐุงุ ุงูุฑุณุงุฆู ูู ุชูุฑุณู ุจูู ุงููุณุชุฎุฏููู!**

1. ุงูุชุญ: https://dashboard.pusher.com
2. ุณุฌู ุฏุฎูู
3. ุงุฎุชุฑ ุงูุชุทุจูู: **app_id = 2070639**
4. ุงุถุบุท **"App Settings"** (ูู ุงููุงุฆูุฉ ุงูุฌุงูุจูุฉ)
5. ุงุจุญุซ ุนู: **"Enable client events"**
6. โ **ูุนููู** (ุถุน ุนูุงูุฉ โ)
7. ุงุถุบุท **"Update"** ุฃู **"Save"**

---

## ๐งช ุงุฎุชุจุฑ ุจุนุฏ ุงูุชุทุจูู:

### 1. ุงุฎุชุจุฑ Netlify Function ูุจุงุดุฑุฉ:

ุงูุชุญ ูู ุงููุชุตูุญ:
```
https://69035792ec8442481c3cbe44--admirable-melba-d159b2.netlify.app/.netlify/functions/pusher-auth
```

**ุงููุชูุฌุฉ ุงููุชููุนุฉ:**
```json
{"error":"Method not allowed"}
```

**ุฅุฐุง ุฑุฃูุช 500:** ุงููุชุบูุฑุงุช ูู ุชูุทุจู ุจุนุฏุ ุงูุชุธุฑ ุฃู ุฃุนุฏ ุงููุดุฑ.

---

### 2. ุงุฎุชุจุฑ ุงูุชุทุจูู:

ุงูุชุญ ูู ุงููุชุตูุญ:
```
https://69035792ec8442481c3cbe44--admirable-melba-d159b2.netlify.app
```

ุงูุชุญ **Developer Console** (F12) ูุชุญูู:
- โ ูุง ููุฌุฏ ุฎุทุฃ `/api/pusher/auth 500`
- โ `Pusher connected`
- โ `Message sent` (ุนูุฏ ุฅุฑุณุงู ุฑุณุงูุฉ)

---

## ๐ Checklist ุงูููุงุฆู:

ูุจู ุงูุงุฎุชุจุงุฑ ุงูููุงุฆูุ ุชุฃูุฏ:

- [ ] **1. ุฃุถูุช ุฌููุน ุงููุชุบูุฑุงุช (5 ูุชุบูุฑุงุช) ูู Netlify**
- [ ] **2. ุฃุนุฏุช ุงููุดุฑ (Redeploy) ูุงูุชุธุฑุช ุงูุชูุงูู**
- [ ] **3. ูุนููุช Client Events ูู Pusher Dashboard**
- [ ] **4. ุงุฎุชุจุฑุช Netlify Function (ูุฌุจ ุฃู ูุฑุฏ "Method not allowed")**
- [ ] **5. ูุชุญุช ุงูุชุทุจูู ูุชุญููุช ูู Console (ูุง ุฃุฎุทุงุก)**

---

## ๐ ุจุนุฏ ุฅููุงู ูู ุงูุฎุทูุงุช:

โ ุงูุณูุฑูุฑ ุงููุญูู: **ูุนูู**
โ Netlify: **ูุนูู**
โ ุงูุฏุฑุฏุดุฉ ุงูุตูุชูุฉ: **ุชุนูู**
โ ุงูุฏุฑุฏุดุฉ ุงููุชุงุจูุฉ: **ุชุนูู**
โ ูุงุฆูุฉ ุงููุชุตููู: **ุชุนูู**

---

## ๐ก ูุตูุญุฉ:

ูู ุงููุณุชูุจูุ ูููุง ุฃุถูุช ูุชุบูุฑุงุช ุฌุฏูุฏุฉ ูู `.env.local`ุ ูุฌุจ ุฅุถุงูุชูุง ูุฏููุงู ูู Netlify Dashboard ุฃูุถุงู.

---

**ุงุจุฏุฃ ูู ุงูุฎุทูุฉ 1 ุงูุขู!** ๐
